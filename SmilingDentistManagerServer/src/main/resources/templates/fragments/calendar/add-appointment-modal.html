<!DOCTYPE html>
<html lang="en">
<head>
</head>
<body>
    <div th:fragment="add-appointment-modal">
        <div class="modal fade" id="addAppointmentModalToggle" aria-hidden="true"
                aria-labelledby="addAppointmentModalToggleLabel" tabindex="-1">
            <div class="modal-dialog modal-lg modal-dialog-centered">
              <div class="modal-content">
                <div class="modal-header">
                  <h1 class="modal-title fs-5" id="addAppointmentModalToggleLabel">Add Appointment</h1>
                  <button id="btnXCloseModal" type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">

                  <div th:replace="fragments/messages/error-msg :: error-msg('')"></div>

                  <!-- get data for create the appointment -->
                  <form id="addAppointmentForm" method="POST" th:action="@{/postAppointment}" > 
                    <div class="row g-3"> 

                      <div class="col-12 col-md-4 d-flex align-items-center"> 
                        <label for="date" class="form-label me-2">Date*:</label> 
                        <input type="text" class="form-control w-100" id="date" name="date" placeholder="dd/MM/yyyy"> 
                      </div> 
                      
                      <div class="col-12 col-md-4 d-flex align-items-center"> 
                        <label for="time" class="form-label me-2">Time*:</label> 
                        <input type="text" class="form-control w-100" id="time" name="time" placeholder="hh:mm"> 
                      </div> 

                      <div class="col-12 col-md-4 d-flex align-items-center"> 
                        <select class="form-select " name="idCustomer" id="idCustomer" >
                          <option selected value="-1">Select the customer*</option>
                          <option th:each="customer : ${customers}" 
                                  th:value="${customer.id}"
                                  th:text="${customer.name} + ' ' + ${customer.surname}">
                          </option>
                        </select>
                      </div>

                    </div> 

                    <div class="row g-3 mt-3">
                      
                      <div class="col-12 col-md-6 d-flex align-items-center"> 
                        <select class="form-select mt-1" name="idDoctor" id="idEmployee" >
                          <option selected value="-1">Select the doctor</option>
                          <option th:each="doctor : ${doctors}" 
                          th:value="${doctor.id}"
                          th:text="${doctor.name} + ' ' + ${doctor.surname}">
                        </select>
                      </div>

                      <div class="col-12 col-md-6 d-flex align-items-center"> 
                        <select class="form-select mt-1" name="idTreatment" id="idTreatment" >
                          <option selected value="-1">Select the treatment</option>
                          <option th:each="treatment : ${treatments}" 
                          th:value="${treatment.id}"
                          th:text="${treatment.name}">
                        </select>
                      </div>

                    </div>

                    <div class="row g-3 mt-3">
                      <label class="form-label mb-1" for="notes">Notes: </label>
                      <input class="form-control" name="notes" id="notes" type="textarea">
                    </div>



                  </form>

                </div>
                <div class="modal-footer">
                  <button id="btnAddAppointment" type="submit" form="add-appointment-form" class="btn btn-primary" >Add Appointment</a>
                </div>
              </div>
            </div>
        </div>
          <a href="#" class="nav-link active" data-bs-target="#addAppointmentModalToggle" data-bs-toggle="modal">Add</a>

        <!-- Add script for manage add appointment request with js -->
        <script th:src="@{/js/appointment/add-appointment-form.js}"></script> 

    </div>

</body>
</html>